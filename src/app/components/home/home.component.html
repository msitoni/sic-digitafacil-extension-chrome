<div class="home-container">
  <!-- Header -->
  <header class="app-header">
    <div class="header-content">
      <h1>âŒ¨ï¸ DigitaÃ§Ã£o Pro</h1>
      <p class="subtitle">Aprenda datilografia do jeito profissional</p>
    </div>
    <div class="header-actions">
      <button class="header-button" (click)="goToStats()">ğŸ“Š EstatÃ­sticas</button>
      <button class="header-button" (click)="goToSettings()">âš™ï¸ ConfiguraÃ§Ãµes</button>
    </div>
  </header>

  <!-- Progress Dashboard -->
  <div class="progress-dashboard" *ngIf="progress">
    <div class="progress-card">
      <div class="progress-stat">
        <div class="stat-icon">ğŸ¯</div>
        <div class="stat-content">
          <div class="stat-label">Progresso Geral</div>
          <div class="stat-value">{{ getProgressPercentage() }}%</div>
        </div>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" [style.width.%]="getProgressPercentage()"></div>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-icon">ğŸ“š</div>
        <div class="stat-content">
          <div class="stat-label">LiÃ§Ãµes Completas</div>
          <div class="stat-value">{{ progress.completedLessons.length }}</div>
        </div>
      </div>

      <div class="stat-item">
        <div class="stat-icon">ğŸ†</div>
        <div class="stat-content">
          <div class="stat-label">NÃ­vel Atual</div>
          <div class="stat-value">{{ progress.level }}</div>
        </div>
      </div>

      <div class="stat-item">
        <div class="stat-icon">â­</div>
        <div class="stat-content">
          <div class="stat-label">XP Total</div>
          <div class="stat-value">{{ progress.xp }}</div>
        </div>
      </div>

      <div class="stat-item">
        <div class="stat-icon">ğŸ”¥</div>
        <div class="stat-content">
          <div class="stat-label">SequÃªncia</div>
          <div class="stat-value">{{ progress.streak }} dias</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Level Filter -->
  <div class="filter-section">
    <h2>Escolha suas LiÃ§Ãµes</h2>
    <div class="filter-buttons">
      <button 
        class="filter-button" 
        [class.active]="selectedLevel === 'all'"
        (click)="filterByLevel('all')"
      >
        Todas
      </button>
      <button 
        class="filter-button" 
        [class.active]="selectedLevel === 'beginner'"
        [style.--level-color]="getLevelColor('beginner')"
        (click)="filterByLevel('beginner')"
      >
        Iniciante
      </button>
      <button 
        class="filter-button" 
        [class.active]="selectedLevel === 'intermediate'"
        [style.--level-color]="getLevelColor('intermediate')"
        (click)="filterByLevel('intermediate')"
      >
        IntermediÃ¡rio
      </button>
      <button 
        class="filter-button" 
        [class.active]="selectedLevel === 'advanced'"
        [style.--level-color]="getLevelColor('advanced')"
        (click)="filterByLevel('advanced')"
      >
        AvanÃ§ado
      </button>
      <button 
        class="filter-button" 
        [class.active]="selectedLevel === 'expert'"
        [style.--level-color]="getLevelColor('expert')"
        (click)="filterByLevel('expert')"
      >
        Expert
      </button>
    </div>
  </div>

  <!-- Lessons Grid -->
  <div class="lessons-grid">
    <div 
      *ngFor="let lesson of lessons" 
      class="lesson-card"
      [class.completed]="isLessonCompleted(lesson.id)"
      [class.locked]="isLessonLocked(lesson.id)"
      (click)="!isLessonLocked(lesson.id) && startLesson(lesson.id)"
    >
      <div class="lesson-number">
        <span *ngIf="!isLessonLocked(lesson.id) && !isLessonCompleted(lesson.id)">{{ lesson.id }}</span>
        <span *ngIf="isLessonCompleted(lesson.id)" class="completed-icon">âœ“</span>
        <span *ngIf="isLessonLocked(lesson.id)" class="locked-icon">ğŸ”’</span>
      </div>

      <div class="lesson-content">
        <h3>{{ lesson.title }}</h3>
        <p>{{ lesson.description }}</p>

        <div class="lesson-meta">
          <span class="level-badge" [style.background-color]="getLevelColor(lesson.level)">
            {{ getLevelLabel(lesson.level) }}
          </span>
          <span class="lesson-requirement">
            {{ lesson.minPPM }} PPM Â· {{ lesson.minAccuracy }}% precisÃ£o
          </span>
        </div>
      </div>

      <div class="lesson-action">
        <button 
          class="start-button" 
          *ngIf="!isLessonLocked(lesson.id)"
          [class.resume]="!isLessonCompleted(lesson.id)"
        >
          {{ isLessonCompleted(lesson.id) ? 'Revisar' : 'Iniciar' }}
        </button>
      </div>
    </div>
  </div>
</div>
